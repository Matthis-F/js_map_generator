<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <script src='http://joeiddon.github.io/perlin/perlin.js'></script>
    <meta charset="utf-8">
    <title>Noise Test</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <canvas id="canvas-1" class="canvas"></canvas>
    <script type="text/javascript">
      perlin.seed();
      var canvas = document.getElementById("canvas-1");
      canvas.width = canvas.height = 2500;
      var ctx = canvas.getContext('2d');

      var hex_size = 5;


      var i = 0;

      function draw_hexagon(center_x,center_y){
        ctx.beginPath();
        var height = ((Math.abs(perlin.get(x/50,y/50))))*460;
        console.log(height);
        ctx.fillStyle = 'hsl('+height+',50%,50%)';
        for (var i = 1; i <= 6; i++) {
          var angle_deg = 60 * i;
          var angle_rad = Math.PI / 180 * angle_deg;
          var x_value = center_x+Math.cos(angle_rad)*hex_size;
          var y_value = center_y+Math.sin(angle_rad)*hex_size;
          ctx.lineTo(x_value,y_value);
        }
        ctx.closePath();
        ctx.fill();
      }


      for (var x = 1; x < 256; x++) {
        for (var y = 1; y < 256; y++) {
          i++;
          if(i%2 ==0){
            draw_hexagon((x*hex_size*2)/1.333333,(y*hex_size*Math.sqrt(3))/2);
          }
        }
      }

    </script>
  </body>
</html>
