<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <script src='http://joeiddon.github.io/perlin/perlin.js'></script>
    <script src='node_modules/simplex-noise/simplex-noise.js'></script>

    <meta charset="utf-8">
    <title>Noise Test</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <canvas id="canvas-1" class="canvas"></canvas>
    <script type="text/javascript">

      var simplex = new SimplexNoise(Math.random());
      var simplex2 = new SimplexNoise(Math.random());

        var canvas = document.getElementById("canvas-1");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight-5;
      var ctx = canvas.getContext('2d');

      var hex_size = 10;


      var i = 0;

      function draw_hexagon(center_x,center_y){
        ctx.beginPath();
        var d = Math.round((Math.sqrt((center_x/hex_size-100)*(center_x/hex_size-100)+(center_y/hex_size-50)*(center_y/hex_size-50))));//this si the distance from center

        var height = Math.round(((simplex.noise2D(x/200, y/200)+1)/2)*255);// From range -1 - 1 to range 0 - 100

        var biome = (simplex2.noise2D(x/500, y/500)*255);

          ctx.fillStyle = 'rgb('+height+','+0+',100)';
      /*  for (var i = 1; i <= 6; i++) {
          var angle_deg = 60 * i;
          var angle_rad = Math.PI / 180 * angle_deg;
          var x_value = center_x+Math.cos(angle_rad)*hex_size;
          var y_value = center_y+Math.sin(angle_rad)*hex_size;
          ctx.lineTo(x_value,y_value);
        }*/

        ctx.fillText(d, center_x, center_y);

        ctx.closePath();
        ctx.fill();
      }


      for (var x = 1; x < 128; x++) {
        for (var y = 1; y < 128; y++) {
          i++;
          if(i%2 == 0){
            draw_hexagon((x*hex_size*2)/(4/3),(y*hex_size*Math.sqrt(3))/2);
          }
        }
      }

    </script>
  </body>
</html>
